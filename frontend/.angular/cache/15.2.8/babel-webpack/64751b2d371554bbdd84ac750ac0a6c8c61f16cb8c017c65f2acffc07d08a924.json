{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/auth.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/forms\";\nfunction RatingComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function RatingComponent_div_6_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const option_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectRating(option_r1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r0.rating === option_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r1, \" \");\n  }\n}\nexport let RatingComponent = /*#__PURE__*/(() => {\n  class RatingComponent {\n    constructor(authServ, snackBar) {\n      this.authServ = authServ;\n      this.snackBar = snackBar;\n      this.skipFeedback = new EventEmitter();\n      this.rating = null;\n      this.ratingOptions = Array.from({\n        length: 5\n      }, (_, i) => i + 1);\n      this.reason = 0;\n    }\n    selectRating(option) {\n      this.rating = option;\n    }\n    onSkipFeedback(isSkip) {\n      if (isSkip == 'noSkip') {\n        let body = {\n          email: localStorage.getItem('user_email'),\n          rating: this.rating,\n          reason: this.reason,\n          createdAt: new Date()\n        };\n        //post feedback to DB\n        this.authServ.onProvideFeedback(body).subscribe(res => {\n          if (res.success === true || res.statusCode === 200 || res.statusCode === 201) {\n            this.snackBar.open('Feedback submitted successfully', '', {\n              duration: 2000\n            });\n          } else {\n            this.snackBar.open('Error!! Please try again', '', {\n              duration: 2000\n            });\n          }\n        });\n      }\n      this.skipFeedback.emit(isSkip);\n    }\n  }\n  RatingComponent.ɵfac = function RatingComponent_Factory(t) {\n    return new (t || RatingComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n  };\n  RatingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RatingComponent,\n    selectors: [[\"app-rating\"]],\n    outputs: {\n      skipFeedback: \"skipFeedback\"\n    },\n    decls: 40,\n    vars: 3,\n    consts: [[1, \"container\", \"text-center\"], [1, \"mb-2\"], [2, \"text-align\", \"start\"], [1, \"d-flex\", \"justify-content-center\", \"flex-wrap\", \"gap-2\", \"mt-4\"], [\"class\", \"circle-radio\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"mt-3\"], [1, \"mt-3\"], [\"aria-label\", \"Default select example\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"0\", \"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"value\", \"6\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"mt-1\"], [1, \"skip-btn\", 3, \"click\"], [1, \"circle-radio\", 3, \"click\"]],\n    template: function RatingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"mat-card-content\")(3, \"p\", 2);\n        i0.ɵɵtext(4, \" How likely are you to recommend our service to a friend or colleague? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtemplate(6, RatingComponent_div_6_Template, 2, 3, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"span\");\n        i0.ɵɵtext(9, \"1 - Extremely Unlikely\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\");\n        i0.ɵɵtext(11, \"10 - Extremely Likely\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"hr\");\n        i0.ɵɵelementStart(13, \"div\", 6)(14, \"p\", 2);\n        i0.ɵɵtext(15, \" Reason to Delete the \");\n        i0.ɵɵelementStart(16, \"b\");\n        i0.ɵɵtext(17, \"Expense Tracker Account\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\")(19, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function RatingComponent_Template_select_ngModelChange_19_listener($event) {\n          return ctx.reason = $event;\n        });\n        i0.ɵɵelementStart(20, \"option\", 8);\n        i0.ɵɵtext(21, \"Select Reason\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"option\", 9);\n        i0.ɵɵtext(23, \" The app/website is not user-friendly or easy to use. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 10);\n        i0.ɵɵtext(25, \" I\\u2019m concerned about how my data is stored or used. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 11);\n        i0.ɵɵtext(27, \"I don\\u2019t use the Expense Tracker anymore.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"option\", 12);\n        i0.ɵɵtext(29, \" I found another service that better suits my needs. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"option\", 13);\n        i0.ɵɵtext(31, \" I\\u2019m experiencing too many bugs or technical problems. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"option\", 14);\n        i0.ɵɵtext(33, \" I want to delete my account for personal reasons. \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(34, \"div\", 6)(35, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function RatingComponent_Template_button_click_35_listener() {\n          return ctx.onSkipFeedback(\"noSkip\");\n        });\n        i0.ɵɵtext(36, \" Proceed \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 16)(38, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function RatingComponent_Template_button_click_38_listener() {\n          return ctx.onSkipFeedback(\"skip\");\n        });\n        i0.ɵɵtext(39, \"Skip?\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ratingOptions);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngModel\", ctx.reason);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"disabled\", ctx.rating == null || ctx.reason == 0);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.MatCard, i4.MatCardContent, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n    styles: [\".circle-radio[_ngcontent-%COMP%]{width:50px;height:50px;line-height:50px;border-radius:50%;border:2px solid #ccc;text-align:center;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s;color:#6c757d;background-color:#f8f9fa}.circle-radio[_ngcontent-%COMP%]:hover{background-color:#e2e6ea;border-color:#adb5bd}.circle-radio.active[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd;color:#fff}.container[_ngcontent-%COMP%]{max-width:600px}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem}.mt-5[_ngcontent-%COMP%]{margin-top:3rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.skip-btn[_ngcontent-%COMP%]{background-color:#fff;border:none}\"]\n  });\n  return RatingComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}