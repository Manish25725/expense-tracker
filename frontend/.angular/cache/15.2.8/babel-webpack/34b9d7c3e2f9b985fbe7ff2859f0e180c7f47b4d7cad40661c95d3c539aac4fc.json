{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/auth.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../welcome-loader/welcome-loader.component\";\nimport * as i12 from \"../rating/rating.component\";\nfunction AlertBoxComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Leaving So Soon???\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4, \"Logged out for now, but the journey continues. See you soon! \\uD83D\\uDC4B\\uD83D\\uDE04\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 5);\n    i0.ɵɵtext(7, \"Stay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function AlertBoxComponent_div_0_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onLogout());\n    });\n    i0.ɵɵtext(9, \" Leave \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AlertBoxComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Wrong File Choosen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4, \"Use Chrome Browser Or Please Choose only CSV (.csv) Files !!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 7);\n    i0.ɵɵtext(7, \"OK\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AlertBoxComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Warning!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4, \"Are your sure? Remember this action can't be \");\n    i0.ɵɵelementStart(5, \"b\");\n    i0.ɵɵtext(6, \"undo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \".\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 4)(9, \"button\", 5);\n    i0.ɵɵtext(10, \"Stay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AlertBoxComponent_div_2_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.onDeleteAccount());\n    });\n    i0.ɵɵtext(12, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AlertBoxComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"div\", 3)(3, \"div\", 9)(4, \"div\")(5, \"p\", 10);\n    i0.ɵɵtext(6, \"Confirm Access\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"mat-card\")(9, \"mat-card-content\", 12);\n    i0.ɵɵelement(10, \"img\", 13);\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12, \" Signed in as \");\n    i0.ɵɵelementStart(13, \"strong\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(15, \"div\", 11)(16, \"mat-card\")(17, \"mat-card-content\")(18, \"div\")(19, \"p\");\n    i0.ɵɵtext(20, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\")(22, \"mat-form-field\", 14)(23, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function AlertBoxComponent_div_2_div_2_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.passwordOfUser = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\")(25, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AlertBoxComponent_div_2_div_2_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onConfirmPassword());\n    });\n    i0.ɵɵtext(26, \"Confirm\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(ctx_r9.userEmailAddress);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.passwordOfUser);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r9.passwordOfUser == null || ctx_r9.passwordOfUser == \"\");\n  }\n}\nfunction AlertBoxComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17)(2, \"div\")(3, \"p\", 10);\n    i0.ɵɵtext(4, \"Rate your experience\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"app-rating\", 18);\n    i0.ɵɵlistener(\"skipFeedback\", function AlertBoxComponent_div_2_div_3_Template_app_rating_skipFeedback_5_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.handleSkip($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AlertBoxComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AlertBoxComponent_div_2_div_1_Template, 13, 0, \"div\", 0);\n    i0.ɵɵtemplate(2, AlertBoxComponent_div_2_div_2_Template, 27, 3, \"div\", 0);\n    i0.ɵɵtemplate(3, AlertBoxComponent_div_2_div_3_Template, 6, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isReadyToDeleteAccount && !ctx_r2.isProvideFeedback);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isReadyToDeleteAccount && !ctx_r2.isProvideFeedback);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isProvideFeedback && !ctx_r2.isReadyToDeleteAccount);\n  }\n}\nfunction AlertBoxComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Wrong Action!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4, \"Wrong Action this Account can't be deleted. As this is account created by \");\n    i0.ɵɵelementStart(5, \"b\");\n    i0.ɵɵtext(6, \"Admin..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" Thank You..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 3)(9, \"p\");\n    i0.ɵɵtext(10, \"Please Create your account to use the functionality..\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 4)(12, \"button\", 19);\n    i0.ɵɵtext(13, \"OK\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AlertBoxComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 2);\n    i0.ɵɵtext(2, \"Session Expired\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4, \"Your current session expired!! Please login again to continue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AlertBoxComponent_div_4_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onNavigateWelcome());\n    });\n    i0.ɵɵtext(7, \"OK\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AlertBoxComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"app-welcome-loader\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AlertBoxComponent = /*#__PURE__*/(() => {\n  class AlertBoxComponent {\n    constructor(authService, data, snackBar, dialog, route) {\n      this.authService = authService;\n      this.data = data;\n      this.snackBar = snackBar;\n      this.dialog = dialog;\n      this.route = route;\n      this.isLoading = false;\n      this.isReadyToDeleteAccount = false;\n      this.userEmailAddress = '';\n      this.passwordOfUser = null;\n      this.isProvideFeedback = false;\n    }\n    ngOnInit() {\n      this.type = this.data.type;\n      this.userId = sessionStorage.getItem('Id')?.split(' ')[1];\n      this.userEmailAddress = this.authService.getEmail() == null ? localStorage.getItem('user_email') : this.authService.getEmail();\n    }\n    onLogout() {\n      this.authService.onLogout();\n    }\n    onDeleteAccount() {\n      if (this.userId === environment.adminId) {\n        this.dialog.open(AlertBoxComponent, {\n          data: {\n            type: 'admin'\n          }\n        });\n        this.isLoading = false;\n        return;\n      }\n      this.isProvideFeedback = true;\n    }\n    onNavigateWelcome() {\n      this.route.navigate(['welcome']);\n    }\n    onConfirmPassword() {\n      this.isLoading = true;\n      let body = {\n        gmail: this.userEmailAddress,\n        password: this.passwordOfUser\n      };\n      this.authService.onConfirmAccess(body).subscribe(res => {\n        this.isLoading = false;\n        this.onConfirmPasswordAndDeleteAccount();\n      }, error => {\n        this.isLoading = false;\n        this.snackBar.open(error.error.message, '', {\n          duration: 2000\n        });\n      });\n    }\n    onConfirmPasswordAndDeleteAccount() {\n      this.isLoading = true;\n      this.authService.deleteUserAccount().subscribe(res => {\n        this.isLoading = false;\n        this.onLogout();\n        this.snackBar.open('Account Deleted Successfully', '', {\n          duration: 2000\n        });\n      });\n      this.isLoading = false;\n      this.dialog.closeAll();\n    }\n    handleSkip(event) {\n      this.isProvideFeedback = false;\n      this.isReadyToDeleteAccount = true;\n    }\n  }\n  AlertBoxComponent.ɵfac = function AlertBoxComponent_Factory(t) {\n    return new (t || AlertBoxComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  AlertBoxComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlertBoxComponent,\n    selectors: [[\"app-alert-box\"]],\n    decls: 6,\n    vars: 6,\n    consts: [[4, \"ngIf\"], [\"class\", \"loaderRelay\", 4, \"ngIf\"], [\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\"], [\"mat-dialog-actions\", \"\", \"align\", \"end\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\", \"cdkFocusInitial\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"mat-dialog-close\", \"\", 3, \"click\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"confirm-access\"], [1, \"confirm\"], [2, \"margin-bottom\", \"10px\"], [1, \"signed-address\"], [\"src\", \"../../../assets/image/man.png\", \"width\", \"30\", \"height\", \"30\", 1, \"signed-image\"], [\"appearance\", \"outline\", 1, \"example-full-width\", 2, \"width\", \"100%\"], [\"matInput\", \"\", \"type\", \"password\", \"name\", \"passwordField\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", \"mat-dialog-close\", \"\", 1, \"w-100\", \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"confirm-access\", 2, \"margin-top\", \"10px\"], [3, \"skipFeedback\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"mat-dialog-close\", \"\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\", 3, \"click\"], [1, \"loaderRelay\"]],\n    template: function AlertBoxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AlertBoxComponent_div_0_Template, 10, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, AlertBoxComponent_div_1_Template, 8, 0, \"div\", 0);\n        i0.ɵɵtemplate(2, AlertBoxComponent_div_2_Template, 4, 3, \"div\", 0);\n        i0.ɵɵtemplate(3, AlertBoxComponent_div_3_Template, 14, 0, \"div\", 0);\n        i0.ɵɵtemplate(4, AlertBoxComponent_div_4_Template, 8, 0, \"div\", 0);\n        i0.ɵɵtemplate(5, AlertBoxComponent_div_5_Template, 2, 0, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.type === \"alert\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === \"error\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === \"delete\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === \"admin\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === \"expire\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      }\n    },\n    dependencies: [i5.NgIf, i6.MatButton, i7.MatInput, i8.MatFormField, i9.MatCard, i9.MatCardContent, i3.MatDialogClose, i3.MatDialogTitle, i3.MatDialogContent, i3.MatDialogActions, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgModel, i11.WelcomeLoaderComponent, i12.RatingComponent],\n    styles: [\".loaderRelay[_ngcontent-%COMP%]{background-color:#00000080;z-index:2;position:fixed;width:100%;height:100%;left:0;top:0;display:flex;justify-content:center;align-items:center}.signed-address[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.signed-image[_ngcontent-%COMP%]{border-radius:10px;margin:0 10px 0 0}.confirm-access[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.confirm[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}\"]\n  });\n  return AlertBoxComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}