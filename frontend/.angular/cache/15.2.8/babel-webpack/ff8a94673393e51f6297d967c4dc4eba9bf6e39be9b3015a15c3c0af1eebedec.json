{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nexport let BusinessDataService = /*#__PURE__*/(() => {\n  class BusinessDataService {\n    constructor(route, http) {\n      this.route = route;\n      this.http = http;\n      this.isLogging = false;\n      this.isChecking = false;\n      this.hashmap = {};\n      this.pieLabels = [];\n      this.piedata = [];\n      this.expensesLogged = 0;\n      this.latestLoginDate = '';\n      this.firstLoginDate = '';\n      this.apiUrl = environment.apiUrl;\n      this.comingSrc = 'Direct';\n    }\n    setComingSrc(val) {\n      this.comingSrc = val;\n    }\n    getComingSrc() {\n      return this.comingSrc;\n    }\n    getUserIdFromSS() {\n      return sessionStorage.getItem('Id')?.split(' ')[1];\n    }\n    getHttpHeaders() {\n      const token = sessionStorage.getItem('LEAD_ID') || localStorage.getItem('LEAD_ID');\n      return {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      };\n    }\n    onHome() {\n      this.route.navigate(['home']);\n    }\n    onNavigate(url) {\n      this.route.navigate([url]);\n    }\n    onGetAllExpense(id) {\n      this.userId = id;\n      return this.http.get(this.apiUrl + 'api/v1/expenses', this.getHttpHeaders());\n    }\n    onCreateExpense(values, date) {\n      let body = {\n        name: values.name,\n        amount: values.amount,\n        expenseDate: new Date(date[0] + ' ' + date[1] + ' ' + date[2] + ' ' + date[3]),\n        category: values.expense_category,\n        paymentType: values.payment,\n        comment: values.comment\n      };\n      return this.http.post(this.apiUrl + 'api/v1/expenses', body, this.getHttpHeaders());\n    }\n    onImportExpense(values) {\n      let date = values.expense_date.split('/');\n      date = new Date(date[2], date[1] - 1, date[0]);\n      let body = {\n        name: values.expense_name,\n        amount: values.amount,\n        expenseDate: date,\n        category: values.expense_category,\n        paymentType: values.payment_type,\n        comment: values.comment\n      };\n      return this.http.post(this.apiUrl + 'api/v1/expenses/import', {\n        expenses: [body]\n      }, this.getHttpHeaders());\n    }\n    onCreateCategory(body) {\n      return this.http.patch(this.apiUrl + 'api/v1/users/update-categories', {\n        categories: body\n      }, this.getHttpHeaders());\n    }\n    onEditCategory(body) {\n      return this.http.patch(this.apiUrl + 'api/v1/users/update-categories', {\n        categories: body\n      }, this.getHttpHeaders());\n    }\n    onDeleteExpense(id) {\n      return this.http.delete(this.apiUrl + 'api/v1/expenses/' + id, this.getHttpHeaders());\n    }\n    onGetSingleExpense(id) {\n      return this.http.get(this.apiUrl + 'api/v1/expenses/' + id, this.getHttpHeaders());\n    }\n    onUpdateExpense(id, values) {\n      let body = {\n        name: values.name,\n        amount: values.amount,\n        expenseDate: new Date(values.expense_date),\n        category: values.expense_category,\n        paymentType: values.payment,\n        comment: values.comment\n      };\n      return this.http.patch(this.apiUrl + 'api/v1/expenses/' + id, body, this.getHttpHeaders());\n    }\n    onGetAllCategory() {\n      return this.http.get(this.apiUrl + 'api/v1/users/current-user', this.getHttpHeaders());\n    }\n    onGithub() {\n      const link = document.createElement('a');\n      link.target = \"_blank\";\n      link.href = \"https://github.com/Manish25725\";\n      link.click();\n    }\n    onLinkedin() {\n      const link = document.createElement('a');\n      link.target = \"_blank\";\n      link.href = \"https://www.linkedin.com/in/manish-kalwani-896529298/\";\n      link.click();\n    }\n    updateProfile(body) {\n      return this.http.patch(this.apiUrl + 'api/v1/users/update-profile', body, this.getHttpHeaders());\n    }\n    updateWholeInfo(body) {\n      return this.http.patch(this.apiUrl + 'api/v1/users/update-profile', body, this.getHttpHeaders());\n    }\n    getAllSaveData() {\n      return this.http.get(this.apiUrl + 'api/v1/users/current-user', this.getHttpHeaders());\n    }\n    getDashboardExpenses(timeFilter = 'all') {\n      let url = this.apiUrl + 'api/v1/expenses/dashboard';\n      if (timeFilter !== 'all') {\n        url += `?timeFilter=${timeFilter}`;\n      }\n      return this.http.get(url, this.getHttpHeaders());\n    }\n  }\n  BusinessDataService.ɵfac = function BusinessDataService_Factory(t) {\n    return new (t || BusinessDataService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.HttpClient));\n  };\n  BusinessDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: BusinessDataService,\n    factory: BusinessDataService.ɵfac,\n    providedIn: 'root'\n  });\n  return BusinessDataService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}